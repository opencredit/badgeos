(function(e){function t(){var e=n();var t=r(e);var i=o(e,t);window.send_to_editor(i)}function n(){return e("#select_shortcode").val()}function r(t){var n=[];var r=s(t);e.each(r,function(e,t){if(""!==t.value&&undefined!==t.value){n.push(t.name+'="'+t.value+'"')}});return n}function s(t){return e(".text, .select","#"+t+"_wrapper")}function o(t,n){var r="[";r+=t;if(n){for(i=0;i<n.length;i++){r+=" "+n[i]}e.trim(r)}r+="]";return r}function u(){e(".shortcode-section").hide()}function a(t){e("#"+t+"_wrapper").show()}function c(t){setTimeout(function(){e("#TB_window").addClass("badgeos-shortcode-thickbox");h(t)},0)}function h(t){setTimeout(function(){var n=t.attr("data-width");e(".badgeos-shortcode-thickbox").width(n);var r=e(".badgeos-shortcode-thickbox").height();e(".badgeos-shortcode-thickbox #TB_ajaxContent,"+".badgeos-shortcode-thickbox .wrap").width(n-50).height(r-50)},0)}e("#select_shortcode").on("change",function(){u();a(n())}).change();e("#badgeos_insert").on("click",function(e){e.preventDefault();t()});e("#badgeos_cancel").on("click",function(e){e.preventDefault();tb_remove()});e("#insert_badgeos_shortcodes").on("click",function(t){var n=e(".select2-container");e.each(n,function(t,n){e(n).select2("val","")})});var f={ajax:{url:ajaxurl,type:"POST",data:function(e){return{q:e,action:"get-achievements-select2"}},results:function(e,t){console.log(e);return{results:e.data}}},id:function(e){return e.ID},formatResult:function(e){return e.post_title},formatSelection:function(e){return e.post_title},placeholder:badgeos_shortcode_embed_messages.id_placeholder,allowClear:true,multiple:false};var l=e.extend(true,{},f,{multiple:true});e("#badgeos_achievement_id, #badgeos_nomination_achievement_id, #badgeos_submission_achievement_id").select2(f);e("#badgeos_achievements_list_include, #badgeos_achievements_list_exclude").select2(l);e("#badgeos_achievements_list_type").select2({ajax:{url:ajaxurl,type:"POST",data:function(e){return{q:e,action:"get-achievement-types"}},results:function(e,t){return{results:e.data}}},id:function(e){return e.name},formatResult:function(e){return e.label},formatSelection:function(e){return e.label},placeholder:badgeos_shortcode_embed_messages.post_type_placeholder,allowClear:true,multiple:true});e("#badgeos_achievements_list_user_id").select2({ajax:{url:ajaxurl,type:"POST",data:function(e){return{q:e,action:"get-users"}},results:function(e,t){return{results:e.data}}},id:function(e){return e.ID},formatResult:function(e){return e.user_login},formatSelection:function(e){return e.user_login},placeholder:badgeos_shortcode_embed_messages.user_placeholder,allowClear:true});e("body").on("click","#insert_badgeos_shortcodes",function(t){t.preventDefault();c(e(this))});e(window).resize(function(){h(e("#insert_badgeos_shortcodes"))})})(jQuery)
