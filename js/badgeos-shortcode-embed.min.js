(function($){function badgeos_set_current_attributes(shortcode){var result={},attrs=[],params=[],input="",value="";var inputs=$('#shortcode_options input[type="text"]');$.each(inputs,function(index,el){if(el.className===shortcode&&el.value!=="")attrs.push(el.id+'="'+el.value+'"')});var selects=$("#shortcode_options select option:selected");$.each(selects,function(index,el){$parent=$(this).parent();if($parent.attr("class")===shortcode)attrs.push($parent.attr("id")+'="'+el.text+'"')});result.shortcode=
shortcode;result.params=attrs;return result}function badgeos_insert_shortcode(){var shortcode,requested;shortcode=$("#select_shortcode option:selected").val();requested=badgeos_set_current_attributes(shortcode);window.send_to_editor(badgeos_construct_shortcode(requested))}function badgeos_construct_shortcode(requested){var shortcode="[";shortcode+=requested.shortcode;if(requested.params){for(i=0;i<requested.params.length;i++)shortcode+=" "+requested.params[i];$.trim(shortcode)}shortcode+="]";return shortcode}
$("#select_shortcode").on("change",function(){var selected=$("#select_shortcode option:selected").val();$(".badgeos_input").parent().hide();$("."+selected).parent().parent().show()});$("#badgeos_insert").on("click",function(e){badgeos_insert_shortcode()});$("#badgeos_cancel").on("click",function(e){e.preventDefault();tb_remove()})})(jQuery);
