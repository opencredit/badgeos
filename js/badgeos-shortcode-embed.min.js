!function(e){function t(){var e=n(),t=s(e,o(e));window.send_to_editor(t)}function n(){return e("#select_shortcode").val()}function o(t){var n=[],o=a(t);return e.each(o,function(t,o){if(""!==o.value&&void 0!==o.value){if(e(this).hasClass("select2-hidden-accessible")){var a=e(o).select2("data"),s=[];return e.each(a,function(e,t){s.push(t.id)}),n.push(o.name+'="'+s+'"'),n}return n.push(o.name+'="'+o.value+'"'),n}}),n}function a(t){return e(".text, .select","#"+t+"_wrapper")}function s(t,n){var o="[";if(o+=t,n){for(i=0;i<n.length;i++)o+=" "+n[i];e.trim(o)}return o+="]"}function r(){e(".shortcode-section").hide()}function c(t){e("#"+t+"_wrapper").show()}function u(t){setTimeout(function(){e("#TB_window").addClass("badgeos-shortcode-thickbox"),l(t)},0)}function l(t){setTimeout(function(){var n=t.attr("data-width");e(".badgeos-shortcode-thickbox").width(n);var o=e(".badgeos-shortcode-thickbox").height();e(".badgeos-shortcode-thickbox #TB_ajaxContent,.badgeos-shortcode-thickbox .wrap").width(n-50).height(o-50)},0)}e("#select_shortcode").on("change",function(){r(),c(n())}).change(),e("#badgeos_insert").on("click",function(e){e.preventDefault(),t()}),e("#badgeos_cancel").on("click",function(e){e.preventDefault(),tb_remove()}),e("#insert_badgeos_shortcodes").on("click",function(t){var n=e(".select2-container");e.each(n,function(t,n){e(n).select2("val","")})});var d={dataType:"json",ajax:{url:ajaxurl,type:"POST",data:function(e){return e=e._type?key=e.term?e.term:"":e,{q:e,action:"get-achievements-select2"}},processResults:function(t){var n=t.data,o=[];return n&&e.each(n,function(e,t){o.push({id:t.ID,text:t.post_title})}),{results:o}}},language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.id_placeholder,allowClear:!0,multiple:!1},h=e.extend(!0,{},d,{multiple:!0});e("#badgeos_achievement_id, #badgeos_nomination_achievement_id, #badgeos_submission_achievement_id").select2(d),e("#badgeos_achievements_list_include, #badgeos_achievements_list_exclude").select2(h),e("#badgeos_achievements_list_type").select2({ajax:{url:ajaxurl,type:"POST",data:function(e){return e=e._type?key=e.term?e.term:"":e,{q:e,action:"get-achievement-types"}},processResults:function(t){var n=t.data,o=[];return n&&e.each(n,function(e,t){o.push({id:t.name,text:t.label})}),{results:o}}},language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.post_type_placeholder,allowClear:!0,multiple:!0}),e("#badgeos_achievements_list_user_id").select2({ajax:{url:ajaxurl,type:"POST",data:function(e){return e=e._type?key=e.term?e.term:"":e,{q:e,action:"get-users"}},processResults:function(t){var n=t.data,o=[];return n&&e.each(n,function(e,t){o.push({id:t.ID,text:t.user_login})}),{results:o}}},language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.user_placeholder,allowClear:!0}),e("body").on("click","#insert_badgeos_shortcodes",function(t){t.preventDefault(),u(e(this))}),e(window).resize(function(){l(e("#insert_badgeos_shortcodes"))})}(jQuery);